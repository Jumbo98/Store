sap.ui.define(["sap/m/MessageToast","sap/m/Dialog","sap/m/Button","sap/m/HBox","sap/m/List","sap/m/CustomListItem","sap/m/Text","sap/m/Label","sap/m/Title","sap/m/VBox","sap/ui/model/Filter","sap/ui/model/Sorter","sap/m/ObjectStatus","sap/ui/core/library","sap/m/StepInput"],function(e,t,a,n,r,s,i,d,o,l,p,g,u,m,w){"use strict";var y=m.ValueState;return{openActiveOrderPopup:function(e){let o=e=>{switch(e){case"1":return y.Error;case"2":return y.Warning;case"3":return y.Success;case"5":return y.None;default:return y.None}},g=e=>Number(e),m=e=>{let t=sap.ui.getCore().byId("addingToOrderSI").getValue(),a=sap.ui.core.format.NumberFormat.getFloatInstance().parse(e);if(e){return a*t+" $"}return"0 $"},c=function(e){const t=sap.ui.getCore().byId("totalCostsByAdding");t.getBindingInfo("text").modelChangeHandler()},C=function(e){const t=e.getParameter("listItem"),a=t.getBindingContext().getObject("ID"),n=sap.ui.getCore().byId("addingToOrderSI").getValue(),r=this.getBindingContext().getObject("ID"),s={product:r,count:n,order:a},i={model:this.getModel(),parameterValues:s};this.getEditFlow().invokeAction("Catalog.addToOrderWithParams",i);this.dialogOfOrders.close()},h=()=>new t({title:"{i18n>ttlAdding}: {title}",content:[new n({renderType:"Bare",wrap:"Wrap",alignItems:"Center",items:[new d({text:"{i18n>lPricePerUnit}",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new i({text:"{price} $"})]}).addStyleClass("sapUiTinyMargin"),new n({renderType:"Bare",wrap:"Wrap",alignItems:"Center",items:[new d({text:"{i18n>lAmount}",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new w({id:"addingToOrderSI",width:"1rem",value:1,min:1,max:{path:"stock",targetType:"float",formatter:g},step:1,largerStep:2,change:c.bind(this)})]}).addStyleClass("sapUiTinyMargin"),new n({renderType:"Bare",wrap:"Wrap",alignItems:"Center",items:[new d({text:"{i18n>lTotalCostsByAdding}",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new i({id:"totalCostsByAdding",text:{path:"price",formatter:m}})]}).addStyleClass("sapUiTinyMargin"),new r({select:C.bind(this),mode:"SingleSelectMaster",items:{path:"/Catalog.OrdersView",filters:[new p({path:"status_ID",value1:"6FF30140-FADA-914F-1900-51EE8E50FF04",operator:"EQ"}),new p({path:"status_ID",value1:"66F30140-FADA-914F-1900-51EE8E50FF04",operator:"EQ"})],template:new s({content:new l({items:[new n({renderType:"Bare",wrap:"Wrap",items:[new d({text:"{i18n>lCreatedAt}",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new i({text:"{createdAt}"})]}).addStyleClass("sapUiTinyMarginBottom"),new n({renderType:"Bare",wrap:"Wrap",items:[new d({text:"{i18n>lStatus}",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new u({text:"{status/title}",state:{path:"status/statusCriticality",formatter:o}})]}).addStyleClass("sapUiTinyMarginBottom"),new n({renderType:"Bare",wrap:"Wrap",items:[new d({text:"Total by Order",showColon:true}).addStyleClass("sapUiTinyMarginEnd"),new i({text:"{totalByOrder} $"})]})]}).addStyleClass("sapUiTinyMargin")})}})],endButton:new a({text:"{i18n>btnCancel}",tooltip:"{i18n>ttCancel}",type:"Transparent",press:()=>this.dialogOfOrders.close()})});if(!this.dialogOfOrders){this.dialogOfOrders=h();this.getEditFlow().getView().addDependent(this.dialogOfOrders)}this.dialogOfOrders.open()}}});
//# sourceMappingURL=AddToActiveOrder.js.map